# SEA-4 Compliant Structure Rules for Stratify-Structure
# Reference: sea-4-eliminating-common-layer.md
# Format: rule.<id>.<property>=<value>

# SS-001: API Module Exists
SS-001.name=API Module Exists
SS-001.description=Modules must have an API layer ({base}-api) that defines public contracts
SS-001.severity=ERROR
SS-001.enabled=true
SS-001.reason=API layer is required to define stable public contracts and ensure proper encapsulation
SS-001.fix=Create {base}-api module with public interfaces, DTOs, and exceptions
SS-001.reference=sea-4-eliminating-common-layer.md

# SS-002: Core Module Exists
SS-002.name=Core Module Exists
SS-002.description=Modules must have a Core layer ({base}-core) that implements business logic
SS-002.severity=ERROR
SS-002.enabled=true
SS-002.reason=Core layer is required to implement business logic and domain models
SS-002.fix=Create {base}-core module with implementation classes and domain logic
SS-002.reference=sea-4-eliminating-common-layer.md

# SS-003: Facade Module Exists
SS-003.name=Facade Module Exists
SS-003.description=Modules must have a Facade layer ({base}-facade) that provides simplified access
SS-003.severity=ERROR
SS-003.enabled=true
SS-003.reason=Facade layer is required to enforce access control and provide simplified interfaces per ADR-005
SS-003.fix=Create {base}-facade module that delegates to API and serves as the only dependency for consumers
SS-003.reference=sea-4-eliminating-common-layer.md

# SS-004: SPI Module Conditional
SS-004.name=SPI Module Conditional
SS-004.description=SPI module ({base}-spi) is recommended when provider implementations are detected
SS-004.severity=WARNING
SS-004.enabled=true
SS-004.reason=SPI layer enables extensibility through provider interfaces when multiple implementations exist
SS-004.fix=Create {base}-spi module with provider interfaces if extensibility is needed
SS-004.reference=sea-4-eliminating-common-layer.md

# SS-005: Component Completeness
SS-005.name=Component Completeness
SS-005.description=API and Core modules must exist together as a complete component
SS-005.severity=ERROR
SS-005.enabled=true
SS-005.pattern=^(.+)-(api|core|spi|facade)$
SS-005.reason=API without Core or Core without API creates incomplete components that violate encapsulation
SS-005.fix=Ensure both {base}-api and {base}-core exist for each component
SS-005.reference=sea-4-eliminating-common-layer.md

# SS-006: No Common Layer
SS-006.name=No Common Layer
SS-006.description=Common layer is an anti-pattern per SEA-4 and must not be used
SS-006.severity=ERROR
SS-006.enabled=true
SS-006.reason=Common layer creates hidden coupling, violates encapsulation, and becomes a dumping ground for unrelated code
SS-006.fix=Migrate using Strategy A (move to API), Strategy B (create purpose-named modules), or Strategy C (duplicate in layer-local utilities)
SS-006.reference=sea-4-eliminating-common-layer.md

# SS-007: No Util Modules
SS-007.name=No Util Modules
SS-007.description=Util or utils modules are anti-patterns that indicate missing domain abstractions
SS-007.severity=ERROR
SS-007.enabled=true
SS-007.reason=Util modules become dumping grounds for unrelated code and hide missing domain concepts
SS-007.fix=Create proper domain objects or purpose-named modules (e.g., validation, formatting, parsing)
SS-007.reference=sea-4-eliminating-common-layer.md
